# TDD

실패 테스트 작성 -> 테스트가 성공하도록 수정 -> 리팩토링



시퀀스 다이어그램



# 회원가입

# Controller

1. test

   1. 컨트롤러

      1. 성공시
         1. isOk()

      2. 실패시
         1. isConflict()

   2. service
      1. 성공
      2. 실패



Controller

1. postmapping
2. Userdto 반환

model

1. User
   1. id
   2. pwd

Service

1. join
   1. User dto 반환

exception 

1. RuntimeException 상속

request dto

1. UserJoinRequest
   1. id
   2. pwd



# Service

test

1. 정상 회원가입
   1. exception 없음
2. 아이디 중복 회원가입실패
   1. exception 반환





service

1. join
   1. findByUserName()
   2. save()

repository

1. findByUserName()

# 로그인

# Controller



test

1. 성공시
   1. JWT 반환

2. 실패시
   1. 아이디 없음
      1. isNotFoud()
   2. 비밀번호 틀림
      1. isUnauthorized()



request dto

1. UserLoginRequest
   1. id
   2. pwd

Controller

1. JWT 반환

Service

1. 아이디 있는지 확인
2. pwd 맞는 지 확인
3. JWT 반환



# Service

test

1. 정상 로그인
   1. exeption 없음
2. 아이디 없음 실패
3. 비밀번호 틀림 실패



service

1. login
   1. 회원가입 여부 (findByUserName())
      1. 성공시 entity 가져오기
      2. 실패시 exception 반환
   2. 비밀번호 체크
      1. 실패시 exception 반환
   3. 토큰 생성



fixture

1. entity 생성
2. id 1
3. username 설정
4. password 설정

